(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{163:function(e,t,n){},164:function(e,t,n){},300:function(e,t,n){"use strict";n.r(t);var i=n(3),o=n(0),r=n.n(o),s=n(24),c=n.n(s),a=(n(163),n.p,n(164),n(34)),l=(n(132),n(71));var d=n(6);function u(e){var t=Object(o.useState)(e.position),n=Object(d.a)(t,2),r=n[0],s=n[1],c=r[0],a=r[1];return Object(o.useEffect)((function(){s(e.position)}),[e.position]),Object(i.jsxs)("g",{style:{userSelect:"none"},onMouseDown:function(t){return e.dragStart(t,e.id,!0)},onMouseUp:function(t){return e.dragEnd(t)},children:[Object(i.jsx)("circle",{cx:c,cy:a,r:"40",stroke:"#2ab863","stroke-width":"4",fill:"#ccffcf"}),Object(i.jsx)("text",{pointerEvents:"none",textAnchor:"middle",transform:"translate(".concat(c,", ").concat(a+5,")"),fontSize:"20",children:e.id})]})}function p(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var j=function(e){var t,n,r=Object(o.useState)(e.node1),s=Object(d.a)(r,2),c=s[0],a=s[1],l=Object(o.useState)(e.node2),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(o.useState)(e.bendPos),f=Object(d.a)(h,2),g=(f[0],f[1]);return!1===e.bendPos.bent?(t=[(c.posX+j.posX)/2,(c.posY+j.posY)/2],n="M "+c.posX+" "+c.posY+" Q "+t[0]+" "+t[1]+" "+j.posX+" "+j.posY):(t=[e.bendPos.posX,e.bendPos.posY],n=function(e){var t=e[0],n=e[2],i=e[1],o=p(n,i),r=p(i,t),s=p(t,n),c=Math.acos((o*o+r*r-s*s)/(2*o*r)),a=.5*o*r*Math.sin(c),l=o*r*s/4/a;l=Math.round(1e3*l)/1e3;var d=+(Math.PI/2>c),u=+((n[0]-t[0])*(i[1]-t[1])-(n[1]-t[1])*(i[0]-t[0])<0);return["M",t,"A",l,l,0,d,u,n].join(" ")}([[j.posX,j.posY],t,[c.posX,c.posY]])),Object(o.useEffect)((function(){a(e.node1),b(e.node2),g(e.bendPos)}),[e.node1,e.node2,e.bendPos]),Object(i.jsxs)("svg",{children:[Object(i.jsx)("svg",{children:Object(i.jsx)("circle",{onMouseDown:function(t){e.dragStart(t,e.id,!1)},onMouseUp:function(t){return e.dragEnd(t)},cx:t[0],cy:t[1],r:6})}),Object(i.jsx)("svg",{children:Object(i.jsx)("path",{"pointer-events":"none",d:n,stroke:"black",fill:"transparent","stroke-width":"3","shape-rendering":"geometricPrecision"})})]})};function b(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),r=n[0],s=n[1],c=Object(o.useState)(),a=Object(d.a)(c,2),l=a[0],p=a[1],b=Object(o.useState)(!1),h=Object(d.a)(b,2),f=h[0],g=h[1],O=Object(o.useState)(!1),x=Object(d.a)(O,2),m=x[0],v=x[1],y=Object(o.useState)(0),w=Object(d.a)(y,2),S=w[0],C=w[1],I=Object(o.useState)(0),k=Object(d.a)(I,2),E=k[0],X=k[1],Y=Object(o.useState)([]),P=Object(d.a)(Y,2),M=P[0],N=P[1],F=function(t,n,i){if(!0===r){if(e.deletingVertex)return void e.deleteVertex(n);if(p(n),C(t.clientX),X(t.clientY),i)g(!0),N([e.vertices[n].posX,e.vertices[n].posY]);else if(v(!0),!0===e.bendPositions.get(n).bent)N([e.bendPositions.get(n).posX,e.bendPositions.get(n).posY]);else{var o=e.vertices[e.edges.get(n).node1],s=e.vertices[e.edges.get(n).node2];N([(o.posX+s.posX)/2,(o.posY+s.posY)/2])}}},T=function(e){if(f&&r){var t=e.clientX-S,n=e.clientY-E;L({id:l,posX:M[0]+t,posY:M[1]+n})}else if(m&&r){var i=e.clientX-S,o=e.clientY-E;V({id:l,posX:M[0]+i,posY:M[1]+o,bent:!0})}},G=function(){g(!1),v(!1)},L=function(t){var n=e.vertices.slice(0);n[t.id]=t,e.setVertices(n)},V=function(t){var n=new Map(e.bendPositions.set(t.id,t));e.setBendPositions(n)};return Object(o.useEffect)((function(){}),[e.vertices,e.bendPositions,e.bendPositions,e.edges,e.vertices]),Object(i.jsxs)("svg",{style:{height:"600vh",width:"600vw",backgroundColor:"#dbedff"},onMouseOver:function(){s(!0)},onMouseLeave:function(e){T(e),s(!1),G()},onMouseMove:function(e){T(e)},onMouseUp:function(){return G()},children:[function(t){var n=[];return e.edges.forEach((function(t){n.push(Object(i.jsx)(j,{dragStart:F,dragEnd:G,id:t.id,node1:e.vertices[t.node1],node2:e.vertices[t.node2],bendPos:e.bendPositions.get(t.id)}))})),n}(),e.vertices.map((function(e){return Object(i.jsx)(u,{dragStart:F,dragEnd:G,id:e.id,position:[e.posX,e.posY]})}))]})}n(165);var h=n(83),f=n(14),g=n(153),O=function e(t,n){var i=this;Object(a.a)(this,e),this.addEdge=function(e,t){return!(!/^\d+$/.test(e)||!/^\d+$/.test(t))&&(e=Number(e),t=Number(t),!(!Number.isInteger(e)||e>i.vertices.length-1)&&(!(!Number.isInteger(t)||t>i.vertices.length-1)&&(e!=t&&(n=e>t?t+"."+e:e+"."+t,i.edges.set(n,{id:n,node1:e,node2:t,bent:!1,posX:null,posY:null}),i.bendPositions.set(n,{id:n,bent:!1,posX:null,posY:null}),!0))));var n},console.log(n),this.vertices=[];for(var o=0;o<t;++o)this.vertices.push({id:o,posX:500,posY:500});this.edges=new Map,this.bendPositions=new Map,this.valid=!0,this.errors=[];for(var r=0;r<n.length;++r){this.errors.push("none");var s,c=Object(l.a)(n[r]);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(!this.addEdge(r,d)){this.valid=!1,this.errors[r]="error";break}""===d&&(this.errors[r]="error")}}catch(u){c.e(u)}finally{c.f()}}},x=n(55),m=n(303),v=n(309),y=n(305),w=n(304),S=n(307),C=n(306),I=n(308);n(166);var k=Object(f.h)((function(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(!1),l=Object(d.a)(a,2),u=l[0],p=l[1],j=Object(o.useState)(!1),b=Object(d.a)(j,2),h=b[0],f=b[1],g=Object(o.useState)(!1),O=Object(d.a)(g,2),v=O[0],S=O[1],C=Object(o.useState)(!1),k=Object(d.a)(C,2),E=k[0],X=k[1],Y=Object(o.useState)(!1),P=Object(d.a)(Y,2),M=P[0],N=P[1],F=Object(o.useState)(window.location.href),T=Object(d.a)(F,2),G=T[0];T[1],Object(o.useEffect)((function(){}),[e.modal]);var L=function(e){console.log(G),!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)?p(!0):fetch("https://graphtt.herokuapp.com/login",{method:"POST",body:JSON.stringify({email:e,route:G}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return f(!0)}))},V=function(){e.setModal(!1),p(!1),f(!1),X(!1),S(!1),N(!1)},z=function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(i.jsx)(I.a,{message:"Graph successfully retrieved",type:"success",showIcon:!0})})})},A=function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(i.jsx)(I.a,{message:"Graph successfully saved",type:"success",showIcon:!0})})})},D=function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"25px"},children:Object(i.jsx)(I.a,{message:"No graph to retrieve. Save a graph first!",type:"error",showIcon:!0})})})};return Object(i.jsx)(r.a.Fragment,{children:1==e.loggedIn?function(){var t=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(x.a,{onClick:function(){V()},children:"Return"},"back"),Object(i.jsx)(x.a,{type:"primary",onClick:function(){V(),e.logOut()},children:"Log out"},"back")]});return Object(i.jsxs)(w.a,{style:{top:"22%"},width:"550px",bodyStyle:{minHeight:"120px"},title:"Logged into kevin.hk.or2010@gmail.com",visible:e.modal,onOk:function(){V()},onCancel:function(){V()},footer:t,children:[Object(i.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginBottom:"5px",marginTop:"-15px",flexWrap:"wrap"},children:[Object(i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"220px"},children:[Object(i.jsx)("div",{style:{margin:"14px",fontSize:"18px",fontWeight:"480"},children:"Save current graph:"}),Object(i.jsx)(x.a,{type:"primary",onClick:function(){console.log(e.bendPositions),1==e.loggedIn&&fetch("https://graphtt.herokuapp.com/api/upload",{method:"POST",body:JSON.stringify({type:"upload",email:localStorage.getItem("email"),edges:JSON.stringify(Array.from(e.edges.entries())),vertices:JSON.stringify(e.vertices),bentpos:JSON.stringify(Array.from(e.bendPositions.entries()))}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){S(!0)})),S(!1),X(!1),N(!1)},children:"Save Graph"})]}),Object(i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"220px"},children:[Object(i.jsx)("div",{style:{margin:"14px",fontSize:"18px",fontWeight:"480"},children:"Retrieve saved graph:"}),Object(i.jsx)(x.a,{type:"primary",onClick:function(){1==e.loggedIn&&fetch("https://graphtt.herokuapp.com/api/retrieve",{method:"POST",body:JSON.stringify({type:"retrieve",email:localStorage.getItem("email")}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),X(!0);var n=new Map(JSON.parse(t.edges)),i=new Map(JSON.parse(t.bentpos));e.setGraph(n,JSON.parse(t.vertices),i)})),S(!1),X(!1),N(!1)},children:"Retrieve Graph"})]}),Object(i.jsx)("div",{style:{marginTop:"45px",marginBottom:"-15px"},children:"(Currently this feature is limited to 1 graph per user)"})]}),v?A():Object(i.jsx)(r.a.Fragment,{}),E?z():Object(i.jsx)(r.a.Fragment,{}),M?D():Object(i.jsx)(r.a.Fragment,{})]})}():function(){var t=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(x.a,{onClick:function(){V()},style:{marginTop:"10px",marginBottom:"10px",marginRight:"46%"},children:"Return"},"back"),Object(i.jsx)(x.a,{type:"primary",onClick:function(){L(s)},children:"Send Confirmation Email"},"back")]});return Object(i.jsx)(w.a,{style:{top:"22%"},width:"550px",bodyStyle:{minHeight:"100px"},title:"Log In To Save Graphs",visible:e.modal,onOk:function(){V()},onCancel:function(){V()},footer:t,onClick:function(){return p(!1)},children:Object(i.jsxs)("div",{onClick:function(){p(!1)},children:[Object(i.jsx)(m.a,{name:"basic",style:{height:"30px"},children:Object(i.jsx)(m.a.Item,{label:"Email",name:"email",children:Object(i.jsx)(y.a,{onChange:function(e){c(e.target.value)}})})}),h?Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"23px"},children:Object(i.jsx)(I.a,{message:"Email successfully sent to "+s,type:"success",showIcon:!0})})}):Object(i.jsx)(r.a.Fragment,{}),u?Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)("div",{style:{height:"40px",width:"100%",marginTop:"23px"},children:Object(i.jsx)(I.a,{message:"Invalid Email",type:"error",showIcon:!0})})}):Object(i.jsx)(r.a.Fragment,{})]})})}()})}));function E(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(!1),l=Object(d.a)(a,2),u=l[0],p=l[1],j=Object(o.useState)([{id:"cycles",value:"5"}]),b=Object(d.a)(j,2),h=b[0],f=b[1],I=Object(o.useState)(!1),E=Object(d.a)(I,2),X=E[0],Y=E[1],P=Object(o.useState)(!1),M=Object(d.a)(P,2),N=(M[0],M[1]),F=Object(o.useState)(!1),T=Object(d.a)(F,2),G=T[0],L=T[1],V=Object(o.useState)("none"),z=Object(d.a)(V,2),A=z[0],D=z[1],W=Object(o.useState)("none"),J=Object(d.a)(W,2),B=J[0],R=J[1],_=Object(o.useState)(""),H=Object(d.a)(_,2),U=H[0],$=H[1],Z=Object(o.useState)(""),q=Object(d.a)(Z,2),Q=q[0],K=q[1],ee=Object(o.useState)(1),te=Object(d.a)(ee,2),ne=te[0],ie=te[1],oe=Object(o.useState)(0),re=Object(d.a)(oe,2),se=re[0],ce=re[1],ae=Object(o.useState)(),le=Object(d.a)(ae,2),de=le[0],ue=le[1],pe=Object(o.useState)(),je=Object(d.a)(pe,2),be=je[0],he=je[1],fe=Object(o.useState)(),ge=Object(d.a)(fe,2),Oe=ge[0],xe=ge[1],me=Object(o.useState)(!1),ve=Object(d.a)(me,2),ye=ve[0],we=ve[1],Se=["Components","Hamiltonian Cycles"],Ce=["Spanning Trees","Euler Tours"],Ie=["Planarity","Longest/Shortest Cycles"],ke=function(){var t=new O(se,be);!0===t.valid?(e.setGraph(t.edges,t.vertices,t.bendPositions),Ee()):xe(t.errors)},Ee=function(){ce(0),p(!1),ue("none"),he(),xe()},Xe=function(t){var n;if(""!==U&&""!==Q)return n=t?e.addEdge(U,Q):e.deleteEdge(U,Q),D(n[0]),R(n[1]),n;var i=[];return""===U?i.push("error"):i.push("none"),""===Q?i.push("error"):i.push("none"),D(i[0]),R(i[1]),i};return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)("div",{style:{position:"absolute",display:"flex",marginTop:"20px",marginLeft:"20px"},children:[Object(i.jsx)(x.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return p(!0)},children:"Input Graph"}),Object(i.jsx)(x.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){e.straightenEdges()},children:"Straighten Edges"}),Object(i.jsx)(x.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return c(!0)},children:"Graph Properties"}),Object(i.jsx)(x.a,{style:{margin:"8px",height:"35px",width:"150px",fontSize:"15px"},type:"primary",onClick:function(){return e.centerGraph()},children:"Center Graph"})]}),Object(i.jsx)("div",{style:{position:"absolute",marginLeft:"25px",bottom:"calc(6vh + 15px)"},children:Object(i.jsx)(x.a,{style:{width:"55px",height:"45px"},type:"primary",onClick:function(){return we(!0)},children:Object(i.jsx)(C.a,{style:{}})})}),Object(i.jsx)(k,{modal:ye,setModal:we,loggedIn:e.loggedIn,logIn:e.logIn,logOut:e.logOut,edges:e.edges,vertices:e.vertices,bendPositions:e.bendPositions,setGraph:e.setGraph}),function(){var e=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(x.a,{onClick:function(){Ee()},children:"Cancel"},"back"),Object(i.jsx)(x.a,{type:"primary",onClick:function(){0===se?function(){ce(ne);var e=Array(ne);e.fill([]),he(e);var t=Array(ne);t.fill("none"),xe(t)}():ke()},children:0===se?"Continue":"Input Graph"})]});return Object(i.jsx)(w.a,{style:{top:"10%"},title:"Input Graph",visible:u,onCancel:function(){Ee()},footer:e,children:Object(i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"10px",marginBottom:"-5px",marginLeft:"-10px"},children:Object(i.jsx)(m.a,{onMouseDown:function(){D("none")},children:function(){if(0===se)return Object(i.jsx)(m.a.Item,{label:"Number of Vertices (Max 20)",name:"v1",validateStatus:A,help:"error"===de?"Invalid Input":null,children:Object(i.jsx)(v.a,{onPressEnter:function(e){ce(ne)},autoComplete:"off",onChange:function(e){return ie(e)},min:1,max:20,defaultValue:1})});for(var e=[],t=function(t){e.push(Object(i.jsx)(m.a.Item,{validateStatus:Oe[t],help:"error"===Oe[t]?"Invalid Input":null,label:JSON.stringify(t),children:Object(i.jsx)(y.a,{defaultValue:"",style:{width:"70px",margin:"2px"},onPressEnter:function(e){ke()},autoComplete:"off",onChange:function(e){var n=Object(g.a)(be);n[t]=e.target.value.split(" ").join("").split(","),he(n)}})}))},n=0;n<se;++n)t(n);return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("div",{style:{marginTop:"-15px",marginBottom:"35px"},children:"Edges (adjacency list, seperating neighbors of each vertex with commas)"}),Object(i.jsx)("div",{style:{display:"flex",width:"350px",marginLeft:"auto",marginRight:"auto",flexWrap:"wrap",justifyContent:"space-around"},children:e})]})}()})})})}(),function(){var e,t;if(h.length>0){var n=h.map((function(e){return Object(i.jsx)("p",{children:e.id+" "+e.value})}));e=Object(i.jsx)(r.a.Fragment,{children:n}),t=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(x.a,{type:"primary",style:{marginRight:"32%"},onClick:function(){return f([])},children:"Generate Different Properties"}),Object(i.jsx)(x.a,{onClick:function(){c(!1)},children:"Return"},"back"),Object(i.jsx)(x.a,{type:"primary",onClick:function(){c(!1)},children:"Confirm"},"submit")]})}else e=Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(i.jsx)(S.a.Group,{style:{display:"flex",width:"180px",flexWrap:"wrap"},options:Se}),Object(i.jsx)(S.a.Group,{style:{display:"flex",width:"180px",flexWrap:"wrap"},options:Ce}),Object(i.jsx)(S.a.Group,{style:{display:"flex",width:"180px",flexWrap:"wrap"},options:Ie})]});return Object(i.jsx)(w.a,{style:{top:"25%"},width:"600px",bodyStyle:{minHeight:"200px"},title:"Graph Properties",visible:s,onOk:function(){c(!1)},onCancel:function(){c(!1)},footer:t,children:e})}(),function(){var e=Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(x.a,{onClick:function(){Y(!1),L(!1),N(!1)},children:"Return"},"back"),Object(i.jsx)(x.a,{type:"primary",onClick:function(){Xe(!!G)},children:G?"Add Edge":"Delete Edge"})]});return Object(i.jsx)(w.a,{style:{top:"25%"},title:G?"Add Edge":"Delete Edge",visible:X,onCancel:function(){Y(!1),L(!1),N(!1),D("none"),R("none")},footer:e,children:Object(i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"10px",marginBottom:"-5px",marginLeft:"-10px"},children:Object(i.jsxs)(m.a,{initialValues:{remember:!0},onMouseDown:function(){D("none"),console.log("?"),R("none")},children:[Object(i.jsx)(m.a.Item,{label:"Vertex 1",name:"v1",validateStatus:A,help:"error"===A?"Invalid Input":null,children:Object(i.jsx)(y.a,{onPressEnter:function(e){Xe(!!G)},autoComplete:"off",onChange:function(e){return $(e.target.value)}})}),Object(i.jsx)(m.a.Item,{validateStatus:B,help:"error"===B?"Invalid Input":null,label:"Vertex 2",name:"v2",children:Object(i.jsx)(y.a,{onPressEnter:function(e){Xe(!!G)},autoComplete:"off",onChange:function(e){return K(e.target.value)}})})]})})})}(),Object(i.jsxs)("div",{style:{position:"absolute",display:"flex",right:"3%",bottom:"6%",flexWrap:"wrap",width:"125px"},children:[Object(i.jsx)(x.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){N(!0),Y(!0)},children:"Delete Edge"}),Object(i.jsx)(x.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){e.setDeletingVertex(!0)},children:"Delete Node"}),Object(i.jsx)(x.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){L(!0),Y(!0)},children:"Add Edge"}),Object(i.jsx)(x.a,{style:{margin:"8px",height:"45px",width:"95px",fontSize:"15px",padding:"0px"},type:"primary",onClick:function(){e.setAddingVertex(!0)},children:"Add Node"})]})]})}function X(){return Object(i.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(i.jsx)(I.a,{message:"Mobile view is still under construction! Please check in later (for now, please use the app on pc view - apologies for any inconveniences)",type:"warning",showIcon:!0})})}function Y(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(null),l=Object(d.a)(a,2),u=l[0],p=l[1],j=new Map,h=new Map;[{id:"0.1",node1:0,node2:1,bent:!1,posX:null,posY:null},{id:"1.2",node1:1,node2:2,bent:!1,posX:null,posY:null},{id:"1.3",node1:1,node2:3,bent:!1,posX:null,posY:null},{id:"0.2",node1:0,node2:2,bent:!1,posX:null,posY:null},{id:"0.3",node1:0,node2:3,bent:!1,posX:null,posY:null},{id:"2.3",node1:2,node2:3,bent:!1,posX:null,posY:null},{id:"0.4",node1:0,node2:4,bent:!1,posX:null,posY:null},{id:"1.4",node1:1,node2:4,bent:!1,posX:null,posY:null},{id:"2.4",node1:2,node2:4,bent:!1,posX:null,posY:null},{id:"3.4",node1:3,node2:4,bent:!1,posX:null,posY:null}].forEach((function(e){j.set(e.node1+"."+e.node2,e),h.set(e.node1+"."+e.node2,{id:e.id,bent:e.bent,posX:e.posX,posY:e.posY})}));var f=Object(o.useState)(null),g=Object(d.a)(f,2),O=g[0],x=g[1],m=Object(o.useState)(!1),v=Object(d.a)(m,2),y=v[0],w=v[1],S=Object(o.useState)(!1),C=Object(d.a)(S,2),I=C[0],k=C[1],Y=Object(o.useState)(null),P=Object(d.a)(Y,2),M=P[0],N=P[1],F=function(e,t,n){c(!0),p(t),x(e),N(n)};null===u&&F(j,[{id:0,posX:850,posY:200},{id:1,posX:1150,posY:400},{id:2,posX:550,posY:400},{id:3,posX:1050,posY:720},{id:4,posX:650,posY:720}],h);var T=function(e){y&&u.length<=30&&G(e.clientX-45,e.clientY-10),w(!1)},G=function(e,t){u.push({id:u.length,posX:e,posY:t})},L=function(){O.forEach((function(e){h.set(e.node1+"."+e.node2,{id:e.id,bent:!1,posX:0,posY:0})})),N(h)},V=function(e){var t=new Map,n=new Map;O.forEach((function(i){var o=i.id,r=Number(o.substr(0,o.indexOf("."))),s=Number(o.substr(o.indexOf(".")+1,o.length-1));if(r!==e&&s!==e){r>e&&--r,s>e&&--s;var c=r+"."+s,a=i;a.id=c,a.node1=r,a.node2=s;var l=M.get(o);l.id=c,t.set(r+"."+s,a),n.set(r+"."+s,l)}})),x(t),N(n),k(!1),z(e)},z=function(e){var t=u;t.splice(e,1);for(var n=e;n<t.length;++n)--t[n].id;p(t)},A=function(e,t){var n,i=["none","none"];return e=Number(e),t=Number(t),(!Number.isInteger(e)||e>u.length-1)&&(i[0]="error"),(!Number.isInteger(t)||t>u.length-1)&&(i[1]="error"),e===t&&(i[0]="error",i[1]="error"),"error"===i[0]||"error"===i[1]?i:(n=e>t?t+"."+e:e+"."+t,O.has(n)?["error","error"]:(x(new Map(O.set(n,{id:n,node1:e,node2:t,bent:!1,posX:null,posY:null}))),N(new Map(M.set(n,{id:n,bent:!1,posX:null,posY:null}))),["success","success"]))},D=function(e,t){var n,i=["none","none"];return e=Number(e),t=Number(t),(!Number.isInteger(e)||e>u.length-1)&&(i[0]="error"),(!Number.isInteger(t)||t>u.length-1)&&(i[1]="error"),e===t&&(i[0]="error",i[1]="error"),"error"===i[0]||"error"===i[1]?i:(n=e>t?t+"."+e:e+"."+t,O.has(n)?(function(e){var t=new Map(O);t.delete(e);var n=new Map(M);n.delete(e),x(t),N(n)}(n),["success","success"]):["error","error"])},W=function(){var e=[];u.forEach((function(t){console.log(t),t.posX=750,t.posY=420,e.push(t)})),p(e),L()},J=Object(o.useState)(window.innerWidth),B=Object(d.a)(J,2),R=(B[0],B[1]);Object(o.useEffect)((function(){s&&c(!1);var e=function(){return R(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[O,M,window.innerWidth]);return Object(i.jsx)(r.a.Fragment,{children:window.innerWidth>"670"?Object(i.jsx)("div",{style:{overflow:"auto"},children:Object(i.jsxs)("div",{style:{display:"flex",height:"92vh",width:"94vw",marginLeft:"3vw",marginRight:"3vw",marginTop:"3vh",marginBottom:"2.75vh",overflow:"hidden"},onMouseDown:function(e){T(e),w(!1)},children:[Object(i.jsx)(E,{setAddingVertex:w,straightenEdges:L,addEdge:A,setDeletingVertex:k,deleteEdge:D,setGraph:F,edges:O,vertices:u,bendPositions:M,logIn:e.login,logOut:e.logout,loggedIn:e.loggedIn,centerGraph:W}),s?Object(i.jsx)(r.a.Fragment,{}):Object(i.jsx)(b,{vertices:u,edges:O,bendPositions:M,setVertices:p,deletingVertex:I,setBendPositions:N,onMouseDown:function(e){T(e),w(!1)},deleteVertex:V})]})}):Object(i.jsx)(X,{})})}var P=Object(f.h)((function(e){var t=Object(o.useState)(Object(f.g)().pathname.replace("/confirm_email/","")),n=Object(d.a)(t,2),r=n[0],s=(n[1],Object(o.useState)("Temp")),c=Object(d.a)(s,2),a=c[0],l=c[1],u=function(t){if(l(t),"Accepted"===t.status){e.login(t.email);var n=window.location.href,i=n.search("/confirm_email");window.location.replace(n.substr(0,i))}};return Object(o.useEffect)((function(){if(!0===e.loggedIn){var t=window.location.href,n=t.search("/confirm_email");window.location.replace(t.substr(0,n))}else fetch("https://graphtt.herokuapp.com/confirm_email/"+r,{method:"POST",body:JSON.stringify({token:r}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]),Object(i.jsx)("h1",{children:a.status})}));function M(){var e=Object(o.useState)(localStorage.getItem("loggedIn")),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)(localStorage.getItem("email")),c=Object(d.a)(s,2),a=(c[0],c[1],function(e){localStorage.setItem("loggedIn",!0),localStorage.setItem("email",e),r(!0)});return Object(o.useEffect)((function(){"true"==localStorage.getItem("loggedIn")?r(!0):r(!1)}),[]),Object(i.jsx)(h.a,{children:Object(i.jsxs)(f.d,{children:[Object(i.jsx)(f.b,{exact:!0,path:"/",children:Object(i.jsx)(Y,{loggedIn:n,login:a,logout:function(){localStorage.setItem("loggedIn",!1),localStorage.removeItem("email"),r(!1)}})}),Object(i.jsx)(f.b,{exact:!0,path:"/confirm_email/:token",component:function(){return Object(i.jsx)(P,{loggedIn:n,login:a})}}),Object(i.jsx)(f.b,{path:"/",children:Object(i.jsx)(f.a,{to:"/"})})]})})}var N=function(){return Object(o.useEffect)((function(){})),Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)(M,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,310)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),o(e),r(e),s(e)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(N,{})}),document.getElementById("root")),F()}},[[300,1,2]]]);
//# sourceMappingURL=main.a033956b.chunk.js.map